<%= form_for @document,
             url: documents_path(
              documentable_type: @document.documentable_type,
              documentable_id: @document.documentable_id,
              from: params[:from]
             ),
             html: { multipart: true } do |f| %>

  <%= render 'shared/errors', resource: @document %>

  <div class="row">

    <div class="small-12 column">
      <%= f.text_field :title %>
    </div>

    <div id="sources" class="small-12 column text-left radio-buttons">
      <%= f.label :source %>
      <p><%= t "documents.form.source_note" %></p>
      <%= f.collection_radio_buttons :source, document_source_options, :first, :second %>
    </div>

    <div class="small-12 column source-option-link">
      <%= f.text_field :link %>
    </div>

    <div class="small-12 column source-option-file">
      <div class="file-upload">
        <%= f.file_field :attachment, label: false, class: 'show-for-sr' %>
        <br>
        <%= f.label :attachment, t("documents.form.attachment_label"), class: 'button hollow' %>
        <p><%= document_attachment_file_name(@document) %></p>
      </div>
    </div>

    <% if @document.errors.has_key?(:attachment) %>
      <div class="small-12 column">
        <div class="attachment-errors">
          <small class="error"><%= errors_on_attachment(@document)%></small>
        </div>
      </div>
    <% end %>

    <div class="actions small-12 medium-6 large-4 end column">
      <%= f.submit(t("documents.form.submit_button"), class: "button expanded") %>
    </div>
  </div>
<% end %>

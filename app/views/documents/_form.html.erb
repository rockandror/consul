<!-- <div class="document-uploader"></div> -->
<%= form_for @document,
             url: documents_path(
              documentable_type: @document.documentable_type,
              documentable_id: @document.documentable_id,
              from: params[:from]
             ),
             html: { multipart: true } do |f| %>

  <%= f.hidden_field :documentable_type, value: @document.documentable.class.name %>
  <%= f.hidden_field :documentable_id, value: @document.documentable.id %>

  <%= render 'shared/errors', resource: @document %>

  <div class="row">

    <div class="small-12 column">
      <%= f.text_field :title %>
    </div>

    <div class="small-12 column">
      <div class="file-name">
        <%= f.hidden_field :attachment, value: @document.cached_attachment_data, id: 'cached_attachment_data' %>
        <%= f.file_field :attachment,
                          accept: accepted_content_types_extensions(@document.documentable),
                          label: false, class: 'show-for-sr' %>
        <%= f.label :attachment, t("documents.form.attachment_label"), class: 'button hollow' %>
        <p><%= document_attachment_file_name(@document) %></p>
      </div>
    </div>

    <% if @document.errors.has_key?(:attachment) %>
      <div class="small-12 column source-option-file">
        <div class="attachment-errors">
          <small class="error"><%= errors_on_attachment(@document)%></small>
        </div>
      </div>
    <% end %>

    <div class="actions small-12 medium-6 large-4 end column">
      <%= f.submit(t("documents.form.submit_button"), class: "button expanded") %>
    </div>
  </div>
<% end %>

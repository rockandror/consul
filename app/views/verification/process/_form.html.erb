<%= render "errors", process: @process %>

<%= form_for @process, url: verification_process_path do |f| %>
  <% @process.fields.each do |_, field| %>
    <div class="small-12 margin-top">
      <% if field.checkbox? %>

        <%= f.label field.name do %>
          <%= f.check_box field.name, label: false %>
          <span>
            <%= field.label %>
            <%= link_to("Link", checkbox_link_url(field), target: "_blank") if field.checkbox_link.present? %>
          </span>
        <% end %>
      <% elsif field.text? %>
        <%= f.text_field field.name, label: field.label, hint: field_hint(field) %>
      <% elsif field.selector? %>
        <% select_options = field.options.map { |p| [p.label, p.value] } %>
        <%= f.select field.name,
                      options_for_select(select_options),
                      prompt: t("verification.process.form.select.prompt"),
                      label: field.label,
                      hint: field.hint %>
      <% elsif field.date? %>
      <div class="date-select">
        <%= f.date_select field.name,
                          prompt: true,
                          start_year: 1900, end_year: Date.current.year,
                          label: field.label,
                          hint: field.hint %>
      </div>
      <% end %>
    </div>
    <% if field.confirmation_validation? %>
      <div class="small-12">
        <%= f.text_field process_confirmation_field_name(field),
                         label: process_confirmation_field_label(field),
                         hint: process_confirmation_field_hint(field) %>
      </div>
    <% end %>
  <% end %>
  <div class="actions small-12 margin-top">
    <%= f.submit t("verification.process.form.submit"), class: "button expanded success" %>
  </div>
<% end %>
